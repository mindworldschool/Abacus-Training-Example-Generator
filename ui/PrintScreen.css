// ui/PrintScreen.js
// –≠–∫—Ä–∞–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ø–µ—á–∞—Ç–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π

import { PrintGenerator } from "../print/PrintGenerator.js";
import { PrintFormatter } from "../print/PrintFormatter.js";

/**
 * –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –ø–µ—á–∞—Ç–∏
 * 
 * –°–¢–†–£–ö–¢–£–†–ê:
 * 1. –°–µ–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Ä–∞–∑—Ä—è–¥–Ω–æ—Å—Ç—å)
 * 2. –°–µ–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –±–ª–æ–∫–æ–≤ (–ü—Ä–æ—Å—Ç–æ, –ë—Ä–∞—Ç—å—è, –î—Ä—É–∑—ñ, –ú—ñ–∫—Å)
 * 3. –°–µ–∫—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–ø—Ä–µ–≤—å—é + –∫–Ω–æ–ø–∫–∏)
 */
export function renderPrintScreen(container) {
  console.log("üñ®Ô∏è –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —ç–∫—Ä–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ø–µ—á–∞—Ç–∏");

  container.innerHTML = '';

  const screen = document.createElement('div');
  screen.className = 'print-screen';

  // === HTML –°–¢–†–£–ö–¢–£–†–ê ===
  screen.innerHTML = `
    <!-- –ó–ê–ì–û–õ–û–í–û–ö -->
    <header class="print-header">
      <h1>üìÑ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞–≤–¥–∞–Ω—å –¥–ª—è –¥—Ä—É–∫—É</h1>
      <p class="print-subtitle">–°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–∞–±—ñ—Ä –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ –¥–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –Ω–∞ –∞–±–∞–∫—É—Å—ñ</p>
    </header>

    <!-- –ù–ê–°–¢–†–û–ô–ö–ò -->
    <section class="print-settings">
      <h2>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h2>

      <div class="settings-grid">
        <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤ -->
        <div class="setting-item">
          <label for="examples-count">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∏–∫–ª–∞–¥—ñ–≤:</label>
          <select id="examples-count" class="setting-select">
            <option value="10">10</option>
            <option value="20" selected>20</option>
            <option value="30">30</option>
            <option value="40">40</option>
            <option value="50">50</option>
            <option value="100">100</option>
          </select>
        </div>

        <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π -->
        <div class="setting-item">
          <label for="actions-count">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥—ñ–π –≤ –ø—Ä–∏–∫–ª–∞–¥—ñ:</label>
          <select id="actions-count" class="setting-select">
            <option value="3">3</option>
            <option value="5" selected>5</option>
            <option value="7">7</option>
            <option value="10">10</option>
            <option value="15">15</option>
            <option value="20">20</option>
          </select>
        </div>

        <!-- –†–∞–∑—Ä—è–¥–Ω–æ—Å—Ç—å -->
        <div class="setting-item">
          <label for="digit-count">–†–æ–∑—Ä—è–¥–Ω—ñ—Å—Ç—å:</label>
          <select id="digit-count" class="setting-select">
            <option value="1" selected>1 —Ä–æ–∑—Ä—è–¥</option>
            <option value="2">2 —Ä–æ–∑—Ä—è–¥–∏</option>
            <option value="3">3 —Ä–æ–∑—Ä—è–¥–∏</option>
            <option value="4">4 —Ä–æ–∑—Ä—è–¥–∏</option>
            <option value="5">5 —Ä–æ–∑—Ä—è–¥—ñ–≤</option>
          </select>
        </div>

        <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ -->
        <div class="setting-item setting-item--full">
          <label for="worksheet-title">–ù–∞–∑–≤–∞ –∑–∞–≤–¥–∞–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ):</label>
          <input type="text" id="worksheet-title" class="setting-input" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è">
        </div>

        <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π -->
        <div class="setting-item setting-item--full">
          <label for="worksheet-comment">–ö–æ–º–µ–Ω—Ç–∞—Ä (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ):</label>
          <input type="text" id="worksheet-comment" class="setting-input" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –î–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å">
        </div>
      </div>

      <!-- –ë–õ–û–ö–ò -->
      <div class="blocks-section">
        <h3>–í–∏–±–µ—Ä—ñ—Ç—å –±–ª–æ–∫–∏ —Ç–∞ —Ü–∏—Ñ—Ä–∏</h3>

        <!-- –ë–õ–û–ö: –ü–†–û–°–¢–û -->
        <div class="block" id="block-simple">
          <div class="block-header">
            <h4>üìò –ü–†–û–°–¢–û (1-9)</h4>
            <button class="btn-select-all" data-block="simple">–í–∏–±—Ä–∞—Ç–∏ –≤—Å–µ</button>
          </div>
          <div class="digits-grid" id="simple-digits">
            ${[1, 2, 3, 4, 5, 6, 7, 8, 9].map(d => 
              `<button class="digit-btn" data-block="simple" data-digit="${d}">${d}</button>`
            ).join('')}
          </div>
          <div class="block-options">
            <label>
              <input type="checkbox" id="simple-only-add" data-block="simple">
              –¢—ñ–ª—å–∫–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è
            </label>
            <label>
              <input type="checkbox" id="simple-only-sub" data-block="simple">
              –¢—ñ–ª—å–∫–∏ –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è
            </label>
          </div>
        </div>

        <!-- –ë–õ–û–ö: –ë–†–ê–¢–¨–Ø -->
        <div class="block" id="block-brothers">
          <div class="block-header">
            <h4>üë• –ë–†–ê–¢–ò (—Ñ–æ—Ä–º—É–ª–∏ 5)</h4>
            <button class="btn-select-all" data-block="brothers">–í–∏–±—Ä–∞—Ç–∏ –≤—Å–µ</button>
          </div>
          <div class="digits-grid" id="brothers-digits">
            ${[4, 3, 2, 1].map(d => 
              `<button class="digit-btn" data-block="brothers" data-digit="${d}">${d}</button>`
            ).join('')}
          </div>
          <div class="block-options">
            <label>
              <input type="checkbox" id="brothers-only-add" data-block="brothers">
              –¢—ñ–ª—å–∫–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è
            </label>
            <label>
              <input type="checkbox" id="brothers-only-sub" data-block="brothers">
              –¢—ñ–ª—å–∫–∏ –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è
            </label>
          </div>
        </div>

        <!-- –ë–õ–û–ö: –î–†–£–ó–Ü -->
        <div class="block" id="block-friends">
          <div class="block-header">
            <h4>ü§ù –î–†–£–ó–Ü (—Ñ–æ—Ä–º—É–ª–∏ 10)</h4>
            <button class="btn-select-all" data-block="friends">–í–∏–±—Ä–∞—Ç–∏ –≤—Å–µ</button>
          </div>
          <div class="digits-grid" id="friends-digits">
            ${[9, 8, 7, 6, 5, 4, 3, 2, 1].map(d => 
              `<button class="digit-btn" data-block="friends" data-digit="${d}">${d}</button>`
            ).join('')}
          </div>
          <div class="block-options">
            <label>
              <input type="checkbox" id="friends-only-add" data-block="friends">
              –¢—ñ–ª—å–∫–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è
            </label>
            <label>
              <input type="checkbox" id="friends-only-sub" data-block="friends">
              –¢—ñ–ª—å–∫–∏ –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è
            </label>
          </div>
          <div class="block-note">
            <small>‚ö†Ô∏è –í–∏–º–∞–≥–∞—î –º—ñ–Ω—ñ–º—É–º 2 —Ä–æ–∑—Ä—è–¥–∏</small>
          </div>
        </div>

        <!-- –ë–õ–û–ö: –ú–Ü–ö–° -->
        <div class="block" id="block-mix">
          <div class="block-header">
            <h4>üîÑ –ë–†–ê–¢–ò –Ü –î–†–£–ó–Ü (–º—ñ–∫—Å)</h4>
            <button class="btn-select-all" data-block="mix">–í–∏–±—Ä–∞—Ç–∏ –≤—Å–µ</button>
          </div>
          <div class="digits-grid" id="mix-digits">
            ${[6, 7, 8, 9].map(d => 
              `<button class="digit-btn" data-block="mix" data-digit="${d}">${d}</button>`
            ).join('')}
          </div>
          <div class="block-options">
            <label>
              <input type="checkbox" id="mix-only-add" data-block="mix">
              –¢—ñ–ª—å–∫–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è
            </label>
            <label>
              <input type="checkbox" id="mix-only-sub" data-block="mix">
              –¢—ñ–ª—å–∫–∏ –≤—ñ–¥–Ω—ñ–º–∞–Ω–Ω—è
            </label>
          </div>
          <div class="block-note">
            <small>‚ö†Ô∏è –í–∏–º–∞–≥–∞—î –º—ñ–Ω—ñ–º—É–º 2 —Ä–æ–∑—Ä—è–¥–∏</small>
          </div>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ -->
      <div class="generate-section">
        <button id="generate-btn" class="btn-primary btn-large">
          üé≤ –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏
        </button>
      </div>
    </section>

    <!-- –†–ï–ó–£–õ–¨–¢–ê–¢ -->
    <section class="print-result" id="result-section" style="display: none;">
      <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç</h2>

      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div id="statistics-container"></div>

      <!-- –ü—Ä–µ–≤—å—é -->
      <div id="worksheet-preview"></div>

      <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
      <div class="print-controls">
        <div class="controls-left">
          <label class="checkbox-label">
            <input type="checkbox" id="show-answers">
            <span>–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</span>
          </label>
        </div>

        <div class="controls-right">
          <button id="print-btn" class="btn-primary">
            üñ®Ô∏è –î—Ä—É–∫—É–≤–∞—Ç–∏
          </button>
          <button id="new-btn" class="btn-secondary">
            üîÑ –ù–æ–≤—ñ –ø—Ä–∏–∫–ª–∞–¥–∏
          </button>
        </div>
      </div>
    </section>
  `;

  container.appendChild(screen);

  // === –õ–û–ì–ò–ö–ê ===

  // –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
  let currentExamples = null;

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–±–æ—Ä–∞ —Ü–∏—Ñ—Ä
  setupDigitSelection();

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫ "–í–∏–±—Ä–∞—Ç–∏ –≤—Å–µ"
  setupSelectAllButtons();

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
  document.getElementById('generate-btn').addEventListener('click', handleGenerate);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ "–ù–æ–≤—ñ –ø—Ä–∏–∫–ª–∞–¥–∏"
  document.getElementById('new-btn').addEventListener('click', handleGenerate);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –æ—Ç–≤–µ—Ç–æ–≤
  document.getElementById('show-answers').addEventListener('change', handleToggleAnswers);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—á–∞—Ç–∏
  document.getElementById('print-btn').addEventListener('click', handlePrint);

  // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑—Ä—è–¥–Ω–æ—Å—Ç–∏
  document.getElementById('digit-count').addEventListener('change', validateDigitCount);

  /**
   * –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–±–æ—Ä–∞ —Ü–∏—Ñ—Ä
   */
  function setupDigitSelection() {
    document.querySelectorAll('.digit-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.classList.toggle('active');
        updateBlockState(btn.dataset.block);
      });
    });
  }

  /**
   * –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–æ–∫ "–í–∏–±—Ä–∞—Ç–∏ –≤—Å–µ"
   */
  function setupSelectAllButtons() {
    document.querySelectorAll('.btn-select-all').forEach(btn => {
      btn.addEventListener('click', () => {
        const blockName = btn.dataset.block;
        const buttons = document.querySelectorAll(`.digit-btn[data-block="${blockName}"]`);
        const allActive = Array.from(buttons).every(b => b.classList.contains('active'));

        buttons.forEach(b => {
          if (allActive) {
            b.classList.remove('active');
          } else {
            b.classList.add('active');
          }
        });

        updateBlockState(blockName);
      });
    });
  }

  /**
   * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–ª–æ–∫–∞ (–ø–æ–¥—Å–≤–µ—Ç–∫–∞)
   */
  function updateBlockState(blockName) {
    const block = document.getElementById(`block-${blockName}`);
    const selectedDigits = getSelectedDigits(blockName);

    if (selectedDigits.length > 0) {
      block.classList.add('block--active');
    } else {
      block.classList.remove('block--active');
    }
  }

  /**
   * –ü–æ–ª—É—á–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –±–ª–æ–∫–∞
   */
  function getSelectedDigits(blockName) {
    const buttons = document.querySelectorAll(`.digit-btn[data-block="${blockName}"].active`);
    return Array.from(buttons).map(btn => parseInt(btn.dataset.digit));
  }

  /**
   * –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑—Ä—è–¥–Ω–æ—Å—Ç–∏
   */
  function validateDigitCount() {
    const digitCount = parseInt(document.getElementById('digit-count').value);
    const friendsNote = document.querySelector('#block-friends .block-note');
    const mixNote = document.querySelector('#block-mix .block-note');

    if (digitCount < 2) {
      friendsNote.style.display = 'block';
      mixNote.style.display = 'block';
      friendsNote.innerHTML = '<small>‚ö†Ô∏è –î–ª—è "–î—Ä—É–∑—ñ" –ø–æ—Ç—Ä—ñ–±–Ω–æ –º—ñ–Ω—ñ–º—É–º 2 —Ä–æ–∑—Ä—è–¥–∏</small>';
      mixNote.innerHTML = '<small>‚ö†Ô∏è –î–ª—è "–ú—ñ–∫—Å" –ø–æ—Ç—Ä—ñ–±–Ω–æ –º—ñ–Ω—ñ–º—É–º 2 —Ä–æ–∑—Ä—è–¥–∏</small>';
    } else {
      friendsNote.style.display = 'none';
      mixNote.style.display = 'none';
    }
  }

  /**
   * –°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ UI
   */
  function collectConfig() {
    const config = {
      examplesCount: parseInt(document.getElementById('examples-count').value),
      actionsCount: parseInt(document.getElementById('actions-count').value),
      digitCount: parseInt(document.getElementById('digit-count').value),
      title: document.getElementById('worksheet-title').value || "–ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –Ω–∞ –∞–±–∞–∫—É—Å—ñ",
      comment: document.getElementById('worksheet-comment').value || "",
      blocks: {
        simple: {
          digits: getSelectedDigits('simple'),
          onlyAddition: document.getElementById('simple-only-add').checked,
          onlySubtraction: document.getElementById('simple-only-sub').checked
        },
        brothers: {
          digits: getSelectedDigits('brothers'),
          onlyAddition: document.getElementById('brothers-only-add').checked,
          onlySubtraction: document.getElementById('brothers-only-sub').checked
        },
        friends: {
          digits: getSelectedDigits('friends'),
          onlyAddition: document.getElementById('friends-only-add').checked,
          onlySubtraction: document.getElementById('friends-only-sub').checked
        },
        mix: {
          digits: getSelectedDigits('mix'),
          onlyAddition: document.getElementById('mix-only-add').checked,
          onlySubtraction: document.getElementById('mix-only-sub').checked
        }
      }
    };

    return config;
  }

  /**
   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   */
  function handleGenerate() {
    console.log("üé≤ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤...");

    const btn = document.getElementById('generate-btn');
    btn.disabled = true;
    btn.textContent = '‚è≥ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è...';

    try {
      // –°–æ–±–∏—Ä–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
      const config = collectConfig();

      // –°–æ–∑–¥–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
      const generator = new PrintGenerator(config);

      // –í–∞–ª–∏–¥–∞—Ü–∏—è
      generator.validate();

      // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è
      currentExamples = generator.generate();

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —á—Ç–æ-—Ç–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–æ—Å—å
      if (!currentExamples || currentExamples.length === 0) {
        throw new Error("–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∂–æ–¥–Ω–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É");
      }

      // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
      displayResult(currentExamples, config);

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
      document.getElementById('result-section').style.display = 'block';

      // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
      document.getElementById('result-section').scrollIntoView({ 
        behavior: 'smooth', 
        block: 'start' 
      });

      console.log(`‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ ${currentExamples.length} –ø—Ä–∏–º–µ—Ä–æ–≤`);

    } catch (error) {
      console.error("‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:", error);
      alert(`–ü–æ–º–∏–ª–∫–∞: ${error.message}`);
    } finally {
      btn.disabled = false;
      btn.textContent = 'üé≤ –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏';
    }
  }

  /**
   * –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
   */
  function displayResult(examples, config) {
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    const statsHtml = PrintFormatter.formatStatisticsBlock(examples);
    document.getElementById('statistics-container').innerHTML = statsHtml;

    // –ü—Ä–µ–≤—å—é
    const showAnswers = document.getElementById('show-answers').checked;
    const worksheetHtml = PrintFormatter.formatToTable(examples, {
      showAnswers: showAnswers,
      title: config.title,
      comment: config.comment,
      columns: 10,
      rows: Math.ceil(examples.length / 10)
    });

    document.getElementById('worksheet-preview').innerHTML = worksheetHtml;
  }

  /**
   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞ –æ—Ç–≤–µ—Ç–æ–≤
   */
  function handleToggleAnswers(e) {
    const showAnswers = e.target.checked;

    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤
    document.querySelectorAll('.answer-value').forEach(el => {
      if (showAnswers) {
        el.classList.remove('answer-value--hidden');
      } else {
        el.classList.add('answer-value--hidden');
      }
    });
  }

  /**
   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—á–∞—Ç–∏
   */
  function handlePrint() {
    console.log("üñ®Ô∏è –ü–µ—á–∞—Ç—å...");
    window.print();
  }

  console.log("‚úÖ –≠–∫—Ä–∞–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –≥–æ—Ç–æ–≤");
}
